<!DOCTYPE html>
<html>
<head>
<title>Payment</title>
<meta charset="utf-8">

<title>Party Time Events</title>
<meta content="width=device-width, initial-scale=1" name="viewport">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script defer crossorigin="anonymous"
	integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="style.css">
<script src="https://js.stripe.com/v3/"></script>
</head>
<body>
	<section>
		<div class="product">
			<img src="https://i.imgur.com/EHyR2nP.png"
				alt="The cover of Stubborn Attachments" />
			<div class="description">
				<h3>Payment</h3>
			</div>
		</div>
		<!-- 		<form action="create-checkout-session/1500" method="POST">
			<button type="submit" id="checkout-button">Checkout</button>
		</form> -->
		<form id="checkout-form" action="create-checkout-session/0"
			method="POST">
			<label for="accountDataId">Account Data Id:
			<input type="text" name="accountDataId" id="accountDataId" value="" />
			</label>
			<input type="hidden" name="orderDataId" id="orderDataId" value="3.141592657538" />
			<p>Payment Amount</p>
			<select id="price-select" class="form-control">
				<option value="0">$0.00</option>
				<option value="1500">$15.00</option>
				<option value="2000">$20.00</option>
				<option value="2500">$25.00</option>
				<!-- Add more options as needed -->
			</select>
			<button type="submit" id="checkout-button">Checkout</button>
		</form>

	</section>
	<script>
		document.addEventListener('DOMContentLoaded', function() {
			const form = document.getElementById('checkout-form');
			const priceSelect = document.getElementById('price-select');

			priceSelect.addEventListener('change', function() {
				const selectedPrice = priceSelect.value;
				form.action = `create-checkout-session/${selectedPrice}`;
			});
			
			localStorage.setItem('accountDataId', '8675309');
            let accountDataId = localStorage.getItem('accountDataId');
            document.getElementById('accountDataId').value = accountDataId;
			
		});
	</script>
</body>
</html>